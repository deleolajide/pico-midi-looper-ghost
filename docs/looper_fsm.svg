<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="700pt" height="488pt" viewBox="0.00 0.00 699.66 488.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 484)">
<title>looper_fsm</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-484 695.66,-484 695.66,4 -4,4"/>
<!-- Startup -->
<g id="node1" class="node">
<title>Startup</title>
<ellipse fill="lightgray" stroke="black" cx="273.4" cy="-476.4" rx="3.6" ry="3.6"/>
</g>
<!-- Waiting -->
<g id="node2" class="node">
<title>Waiting</title>
<ellipse fill="lightgray" stroke="black" cx="273.4" cy="-370.8" rx="50.4" ry="50.4"/>
<text text-anchor="middle" x="273.4" y="-366.6" font-family="Helvetica,sans-Serif" font-size="14.00">WAITING</text>
</g>
<!-- Startup&#45;&gt;Waiting -->
<g id="edge1" class="edge">
<title>Startup-&gt;Waiting</title>
<path fill="none" stroke="black" d="M273.4,-472.41C273.4,-466.02 273.4,-450.17 273.4,-432.9"/>
<polygon fill="black" stroke="black" points="276.9,-432.95 273.4,-422.95 269.9,-432.95 276.9,-432.95"/>
<text text-anchor="middle" x="301.22" y="-443.1" font-family="Helvetica,sans-Serif" font-size="13.00">Power-on</text>
</g>
<!-- Playing -->
<g id="node3" class="node">
<title>Playing</title>
<ellipse fill="lightgray" stroke="black" cx="274.4" cy="-218.4" rx="50.4" ry="50.4"/>
<text text-anchor="middle" x="274.4" y="-214.2" font-family="Helvetica,sans-Serif" font-size="14.00">PLAYING</text>
</g>
<!-- Waiting&#45;&gt;Playing -->
<g id="edge2" class="edge">
<title>Waiting-&gt;Playing</title>
<path fill="none" stroke="black" d="M238.32,-334.5C228.33,-320.28 221.42,-303.34 226.68,-286.8 228.85,-279.99 231.99,-273.27 235.63,-266.87"/>
<polygon fill="black" stroke="black" points="238.59,-268.73 240.9,-258.39 232.65,-265.03 238.59,-268.73"/>
<text text-anchor="middle" x="263.54" y="-290.7" font-family="Helvetica,sans-Serif" font-size="13.00">BLE connect</text>
</g>
<!-- Playing&#45;&gt;Waiting -->
<g id="edge3" class="edge">
<title>Playing-&gt;Waiting</title>
<path fill="none" stroke="black" d="M296.82,-263.72C300.73,-276.1 302.86,-289.65 300.4,-302.4 299.67,-306.17 298.74,-309.99 297.66,-313.8"/>
<polygon fill="black" stroke="black" points="294.42,-312.43 294.72,-323.02 301.09,-314.56 294.42,-312.43"/>
<text text-anchor="middle" x="346.62" y="-290.7" font-family="Helvetica,sans-Serif" font-size="13.00">BLE disconnect</text>
</g>
<!-- Recording -->
<g id="node4" class="node">
<title>Recording</title>
<ellipse fill="lightgray" stroke="black" cx="50.4" cy="-50.4" rx="50.4" ry="50.4"/>
<text text-anchor="middle" x="50.4" y="-46.2" font-family="Helvetica,sans-Serif" font-size="14.00">RECORDING</text>
</g>
<!-- Playing&#45;&gt;Recording -->
<g id="edge6" class="edge">
<title>Playing-&gt;Recording</title>
<path fill="none" stroke="black" d="M226.28,-202.75C193.83,-192.88 150.06,-179.61 111.4,-168 84.54,-159.93 67.75,-172.44 50.93,-150 42.58,-138.87 39.48,-124.87 39.14,-110.94"/>
<polygon fill="black" stroke="black" points="42.63,-111.44 39.37,-101.36 35.63,-111.27 42.63,-111.44"/>
<text text-anchor="middle" x="84.16" y="-130.5" font-family="Helvetica,sans-Serif" font-size="13.00">Short press</text>
</g>
<!-- Switching -->
<g id="node5" class="node">
<title>Switching</title>
<ellipse fill="lightgray" stroke="black" cx="274.4" cy="-50.4" rx="50.4" ry="50.4"/>
<text text-anchor="middle" x="274.4" y="-54.6" font-family="Helvetica,sans-Serif" font-size="14.00">TRACK</text>
<text text-anchor="middle" x="274.4" y="-37.8" font-family="Helvetica,sans-Serif" font-size="14.00">SWITCH</text>
</g>
<!-- Playing&#45;&gt;Switching -->
<g id="edge8" class="edge">
<title>Playing-&gt;Switching</title>
<path fill="none" stroke="black" d="M244.29,-177.45C239.26,-168.81 234.79,-159.43 232.08,-150 228.24,-136.67 228.24,-132.13 232.08,-118.8 233.78,-112.91 236.16,-107.03 238.93,-101.35"/>
<polygon fill="black" stroke="black" points="241.93,-103.15 243.58,-92.69 235.77,-99.85 241.93,-103.15"/>
<text text-anchor="middle" x="264.24" y="-130.5" font-family="Helvetica,sans-Serif" font-size="13.00">Long press</text>
</g>
<!-- TapTempo -->
<g id="node6" class="node">
<title>TapTempo</title>
<ellipse fill="lightgray" stroke="black" cx="503.4" cy="-50.4" rx="50.4" ry="50.4"/>
<text text-anchor="middle" x="503.4" y="-54.6" font-family="Helvetica,sans-Serif" font-size="14.00">TAP</text>
<text text-anchor="middle" x="503.4" y="-37.8" font-family="Helvetica,sans-Serif" font-size="14.00">TEMPO</text>
</g>
<!-- Playing&#45;&gt;TapTempo -->
<g id="edge10" class="edge">
<title>Playing-&gt;TapTempo</title>
<path fill="none" stroke="black" d="M311.23,-183.33C333.41,-163.52 362.64,-138.64 390.36,-118.8 409.03,-105.44 430.46,-92.18 449.61,-81.01"/>
<polygon fill="black" stroke="black" points="451.16,-84.15 458.07,-76.12 447.66,-78.09 451.16,-84.15"/>
<text text-anchor="middle" x="435.88" y="-138.3" font-family="Helvetica,sans-Serif" font-size="13.00">Very-long press</text>
<text text-anchor="middle" x="435.88" y="-122.7" font-family="Helvetica,sans-Serif" font-size="13.00">(≥ 2 s)</text>
</g>
<!-- Recording&#45;&gt;Waiting -->
<g id="edge4" class="edge">
<title>Recording-&gt;Waiting</title>
<path fill="none" stroke="black" d="M34.98,-98.84C31.88,-115.33 31.01,-133.76 36.4,-150 66.05,-239.3 158.52,-305.91 218.81,-341.25"/>
<polygon fill="black" stroke="black" points="216.84,-344.15 227.25,-346.1 220.33,-338.08 216.84,-344.15"/>
<text text-anchor="middle" x="163.13" y="-214.5" font-family="Helvetica,sans-Serif" font-size="13.00">BLE disconnect</text>
</g>
<!-- Recording&#45;&gt;Playing -->
<g id="edge7" class="edge">
<title>Recording-&gt;Playing</title>
<path fill="none" stroke="black" d="M84.75,-87.36C104.58,-107.09 130.56,-131.27 156.02,-150 175.75,-164.51 198.88,-178.31 219.45,-189.6"/>
<polygon fill="black" stroke="black" points="217.51,-192.54 227.97,-194.22 220.84,-186.38 217.51,-192.54"/>
<text text-anchor="middle" x="190.71" y="-130.5" font-family="Helvetica,sans-Serif" font-size="13.00">2-bars done</text>
</g>
<!-- Switching&#45;&gt;Playing -->
<g id="edge9" class="edge">
<title>Switching-&gt;Playing</title>
<path fill="none" stroke="black" d="M291.72,-98.07C293.66,-104.94 295.32,-111.99 296.4,-118.8 298.58,-132.49 298.58,-136.31 296.4,-150 295.89,-153.19 295.26,-156.44 294.53,-159.69"/>
<polygon fill="black" stroke="black" points="291.17,-158.71 292.09,-169.26 297.95,-160.43 291.17,-158.71"/>
<text text-anchor="middle" x="321.88" y="-130.5" font-family="Helvetica,sans-Serif" font-size="13.00">Release</text>
</g>
<!-- TapTempo&#45;&gt;Waiting -->
<g id="edge5" class="edge">
<title>TapTempo-&gt;Waiting</title>
<path fill="none" stroke="black" d="M550.56,-69.2C588.14,-86.41 631.65,-114.97 613.4,-150 555.51,-261.11 413.4,-324.05 332.42,-352.04"/>
<polygon fill="black" stroke="black" points="331.68,-348.59 323.33,-355.11 333.92,-355.22 331.68,-348.59"/>
<text text-anchor="middle" x="646.49" y="-214.5" font-family="Helvetica,sans-Serif" font-size="13.00">BLE disconnect</text>
</g>
<!-- TapTempo&#45;&gt;Playing -->
<g id="edge11" class="edge">
<title>TapTempo-&gt;Playing</title>
<path fill="none" stroke="black" d="M502.16,-101.14C499.37,-118.42 493.43,-136.76 481.4,-150 444.41,-190.69 382.6,-206.9 336.13,-213.31"/>
<polygon fill="black" stroke="black" points="335.96,-209.81 326.47,-214.52 336.83,-216.75 335.96,-209.81"/>
<text text-anchor="middle" x="553.63" y="-138.3" font-family="Helvetica,sans-Serif" font-size="13.00">Long-press release</text>
<text text-anchor="middle" x="553.63" y="-122.7" font-family="Helvetica,sans-Serif" font-size="13.00">(≥ 0.5 s)</text>
</g>
</g>
</svg>